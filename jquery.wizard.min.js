(function(e){var t={init:function(n){return this.each(function(){this.options=e.extend({},e.fn.wizard.defaults,n);var r=this,i=e(this);t._actions=i.find(".wizard-act");t._steps=i.find(".wizard-step");t._hideAll();t._actions.each(function(){e(this).on("click",null,function(n){if(e(this).is('[data-action="next"]')){t._next.call(r,e(this));return}else if(e(this).is('[data-action="prev"]')){t._prev.call(r,e(this));return}else if(e(this).is('[data-action="finish"]')){t._finish.call(r,e(this));return}else if(e(this).is('[data-action="start"]')){t._start.call(r,e(this));return}else{t._other.call(r,e(this));return}})});t._start.call(r,null);e(this).css("display","");if(this.options.onInit&&this.options.onInit!=undefined){this.options.onInit(this)}})},firstStep:null,displayAction:function(e,n,r){if(n==undefined){n=false}if(r==undefined){r=false}var i=t._actions.filter('[data-action="'+e+'"]');if(i){i.css("display",n==true?"":"none");if(r){i.parent("*").css("display",n==true?"":"none")}}},disableActions:function(){t._actions.each(function(){e(this).attr("disabled","disabled")})},enableActions:function(){t._actions.each(function(){e(this).removeAttr("disabled")})},disableAction:function(e){t._actions.filter('[data-action="'+e+'"]').attr("disabled","disabled")},enableAction:function(e){t._actions.filter('[data-action="'+e+'"]').removeAttr("disabled")},_steps:null,_actions:null,jumpToAction:function(n){e(t._actions.filter('[data-action="'+n+'"]')).trigger("click")},_start:function(n){var r=t._actions.filter('[data-action="start"]').attr("data-target");if(r==undefined){r=e(t._steps).first().attr("data-step")}if(n){r=e(n).attr("data-target")}t.firstStep=e(r);t._show.call(this,r,"start",n,this.options.onStart)},_next:function(n){t._show.call(this,e(t._steps.filter(".active")).attr("data-step-next"),"next",n,this.options.onNext)},_prev:function(n){t._show.call(this,e(t._steps.filter(".active")).attr("data-step-prev"),"prev",n,this.options.onPrev)},_other:function(n){var r=e(n).attr("data-target"),i;if(!r||r==undefined){i=true;r=e(t._steps.filter(".active")).attr("data-step")}t._show.call(this,r,e(n).attr("data-action"),n,this.options.onOther,i)},_finish:function(n){t._show.call(this,e(n).attr("data-target"),"finish",n,this.options.onFinish)},_hideAll:function(){t._steps.each(function(){e(this).hide();e(this).removeClass("active")})},_show:function(n,r,i,s,o){if(this.options.onBeforeStep!=undefined){var u=this.options.onBeforeStep({stepName:n,actionName:r,action:i,step:a});if(u!=undefined&&!u){return}}if(o==undefined||!o){var a=t._steps.filter('[data-step="'+n+'"]');t._hideAll.call();t._actions.filter("[data-hide-until]").each(function(){t.displayAction(e(this).attr("data-action"),n==e(this).attr("data-hide-until"))});a.addClass("active");this.options.fadeOn?a.fadeIn():a.show();t.enableActions.call();if(e(a).is(t._steps.first())){t.disableAction("start")}if(e(a).is(t._steps.last())){if(this.options.disableOnFinish){t.disableAction("finish")}}if(!e(a).attr("data-step-next")){t.disableAction("next")}if(!e(a).attr("data-step-prev")){t.disableAction("prev")}if(this.options.onStep&&this.options.onStep!=undefined){this.options.onStep({stepName:n,actionName:r,action:i,step:a})}}if(s&&s!=undefined){s({stepName:n,actionName:r,action:i,step:a})}}};e.fn.wizard=function(n){if(t[n]){return t[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return t.init.apply(this,arguments)}else{e.error("Method "+n+" does not exist!")}};e.fn.wizard.defaults={onInit:undefined,onPrev:undefined,onNext:undefined,onOther:undefined,onFinish:undefined,onStart:undefined,onBeforeStep:undefined,onStep:undefined,disableOnFinish:true,fadeOn:true}})(jQuery)